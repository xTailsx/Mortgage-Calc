<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mortgage Calculator</title>
</head>
<body>
    <h1>Mortgage Calculator</h1>
    <form id="mortgage-form" method="POST" action="/calculate">
        <label for="loan_amount">Loan Amount:</label>
        <input type="number" id="loan_amount" name="loan_amount" required><br><br>

        <label for="interest_rate">Interest Rate (%):</label>
        <input type="number" id="interest_rate" name="interest_rate" step="0.01" required><br><br>

        <label for="loan_term_years">Loan Term (Years):</label>
        <input type="number" id="loan_term_years" name="loan_term_years" required><br><br>

        <label for="offset_balance">Offset Balance:</label>
        <input type="number" id="offset_balance" name="offset_balance" required><br><br>

        <label for="extra_repayment">Extra Repayment per Month:</label>
        <input type="number" id="extra_repayment" name="extra_repayment" required><br><br>

        <button type="submit">Calculate</button>
    </form>

    {% if result %}
    <div id="results">
        <h2>Results:</h2>
        <p>Monthly Repayment: ${{ result.monthly_repayment }}</p>
        <p>Total Cost: ${{ result.total_cost }}</p>
        <p>Interest Saved: ${{ result.interest_saved }}</p>
        <p>Years Saved: {{ result.years_saved }} years</p>
        <p>Revised Term: {{ result.revised_term_months }} months</p>
    </div>

    <div>
        <h3>Repayment Schedule Graph:</h3>
        <img src="data:image/png;base64,{{ graph_url }}" alt="Repayment Graph">
    </div>
    {% endif %}
</body>
</html>
